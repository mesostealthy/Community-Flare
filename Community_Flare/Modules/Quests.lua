-- initialize
local LibStub = LibStub
local ADDON_NAME, NS = ...
local L = LibStub("AceLocale-3.0"):GetLocale(ADDON_NAME, false)
if (not L or not NS.CommFlare) then return end

-- localize stuff
local _G                                          = _G
local GetQuestLogRewardInfo                       = _G.GetQuestLogRewardInfo
local print                                       = _G.print

-- decor quests
local decorQuests = {
	-- ALLIANCE
	[92437] = { x = 0.6324, y = 0.3832 },
	[92961] = { x = 0.5812, y = 0.3016 }, -- confirmed
	[92962] = { x = 0.692, y = 0.267 },
	[92963] = { x = 0.6310, y = 0.4676 },
	[92964] = { x = 0.6488, y = 0.5097 },
	[92965] = { x = 0.5984, y = 0.5243 },
	[92966] = { x = 0.669, y = 0.570 },
	[92967] = { x = 0.5834, y = 0.6505 },
	[92968] = { x = 0.5425, y = 0.7364 },
	[92969] = { x = 0.4421, y = 0.8669 },
	[92970] = { x = 0.3910, y = 0.5995 },
	[92971] = { x = 0.4085, y = 0.6133 },
	[92972] = { x = 0.4548, y = 0.6446 },
	[92973] = { x = 0.4630, y = 0.5790 },
	[92974] = { x = 0.5498, y = 0.5069 },
	[92975] = { x = 0.499, y = 0.566 },
	[92976] = { x = 0.4771, y = 0.6196 },
	[92977] = { x = 0.6455, y = 0.8561 },
	[92978] = { x = 0.5420, y = 0.7366 },
	[92979] = { x = 0.6233, y = 0.7948 },
	[92980] = { x = 0.2862, y = 0.4670 },
	[92981] = { x = 0.298, y = 0.484 },
	[92982] = { x = 0.6187, y = 0.8251 },
	[92983] = { x = 0.425, y = 0.447 },
	[92984] = { x = 0.4268, y = 0.5388 },
	[92985] = { x = 0.371, y = 0.459 },
	[92986] = { x = 0.366, y = 0.542 },
	[92987] = { x = 0.3661, y = 0.5786 },
	[92988] = { x = 0.3467, y = 0.6025 },
	[92989] = { x = 0.3391, y = 0.7260 },
	[92990] = { x = 0.496, y = 0.420 },
	[92991] = { x = 0.4915, y = 0.2716 },
	[92992] = { x = 0.4099, y = 0.2837 },
	[92993] = { x = 0.3993, y = 0.3201 },
	[92994] = { x = 0.3693, y = 0.3284 },
	[92995] = { x = 0.309, y = 0.311 },
	[92996] = { x = 0.2903, y = 0.2817 },
	[92997] = { x = 0.21, y = 0.30 },
	[92998] = { x = 0.262, y = 0.379 },
	[92999] = { x = 0.3822, y = 0.4014 },
	[93000] = { x = 0.590, y = 0.457 },
	[93001] = { x = 0.5685, y = 0.5231 },
	[93002] = { x = 0.5777, y = 0.4203 },
	[93003] = { x = 0.5665, y = 0.2751 },
	[93004] = { x = 0.5533, y = 0.3995 },
	[93005] = { x = 0.6131, y = 0.5690 },
	[93006] = { x = 0.5365, y = 0.3977 },
	[93007] = { x = 0.5736, y = 0.3927 },
	[93008] = { x = 0.5245, y = 0.2880 },
	[93009] = { x = 0.5360, y = 0.4194 },

	-- HORDE
	[93073] = { x = 0.535, y = 0.500 },
	[93074] = { x = 0.5561, y = 0.4975 },
	[93075] = { x = 0.5639, y = 0.4796 },
	[93077] = { x = 0.5801, y = 0.4984 },
	[93078] = { x = 0.6357, y = 0.4479 },
	[93079] = { x = 0.6237, y = 0.4897 },
	[93080] = { x = 0.6264, y = 0.5168 },
	[93081] = { x = 0.7028, y = 0.4981 },
	[93082] = { x = 0.6890, y = 0.5253 },
	[93083] = { x = 0.7211, y = 0.4165 },
	[93084] = { x = 0.607, y = 0.645 },
	[93085] = { x = 0.3864, y = 0.8029 },
	[93087] = { x = 0.5559, y = 0.5243 },
	[93088] = { x = 0.6373, y = 0.5622 },
	[93091] = { x = 0.6467, y = 0.5804 },
	[93097] = { x = 0.577, y = 0.634 },
	[93098] = { x = 0.6830, y = 0.6893 },
	[93099] = { x = 0.6811, y = 0.7573 },
	[93100] = { x = 0.6487, y = 0.7308 },
	[93101] = { x = 0.6184, y = 0.7845 },
	[93102] = { x = 0.6326, y = 0.9258 },
	[93103] = { x = 0.4792, y = 0.8627 },
	[93104] = { x = 0.5797, y = 0.7994 },
	[93105] = { x = 0.5683, y = 0.5228 },
	[93106] = { x = 0.5219, y = 0.8181 },
	[93107] = { x = 0.5341, y = 0.8467 },
	[93108] = { x = 0.5037, y = 0.8301 },
	[93109] = { x = 0.4777, y = 0.8839 },
	[93110] = { x = 0.4423, y = 0.8671 },
	[93111] = { x = 0.3950, y = 0.7305 },
	[93115] = { x = 0.4216, y = 0.6634 },
	[93131] = { x = 0.4471, y = 0.6637 },
	[93132] = { x = 0.4268, y = 0.5046 },
	[93133] = { x = 0.5172, y = 0.80 },
	[93134] = { x = 0.4527, y = 0.5635 },
	[93135] = { x = 0.4542, y = 0.5737 },
	[93136] = { x = 0.4717, y = 0.5968 },
	[93137] = { x = 0.5177, y = 0.7267 },
	[93138] = { x = 0.5904, y = 0.7371 },
	[93139] = { x = 0.6455, y = 0.6918 },
	[93140] = { x = 0.5717, y = 0.5826 },
	[93141] = { x = 0.5035, y = 0.7685 },
	[93142] = { x = 0.5083, y = 0.6157 },
	[93143] = { x = 0.4951, y = 0.5998 },
	[93147] = { x = 0.5097, y = 0.8963 },
	[93148] = { x = 0.4326, y = 0.6946 },
	[93149] = { x = 0.3924, y = 0.7406 },
	[93150] = { x = 0.3983, y = 0.5783 },
	[93151] = { x = 0.3981, y = 0.7878 },
	[93152] = { x = 0.5866, y = 0.6941 },
}

-- process accepted quest
function NS:ProcessAcceptedQuest(questID)
	-- housing add quest way points enabled?
	if (NS.db.global.housingAddQuestWayPoints == true) then
		-- decor quest?
		if (decorQuests[questID]) then
			-- found x/y?
			local info = decorQuests[questID]
			if (info) then
				-- get request log reward info
				local name = GetQuestLogRewardInfo(1, questID)
				if (name) then
					-- add waypoint
					NS:TomTomAddWaypoint(name, info.x, info.y)
				end
			end
		end
	end
end
